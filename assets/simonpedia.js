function pathname(){let{pathname:e}=window.location;return"/"===e?"simonpedia":e?e.replace(/^\//,"").replace(/\.html$/,""):null}function select(e){return htmx.findAll("#list > ul > li").forEach(e=>htmx.removeClass(e,"active")),htmx.addClass(htmx.find(`#list > ul > li[data-key="${e}"]`),"active"),!0}function scrollToActive(){return htmx.find("#list > ul > li.active").scrollIntoView({block:"center"}),!0}function toggleSidebar(){return htmx.toggleClass("aside","hidden"),!0}document.addEventListener("DOMContentLoaded",()=>{window.innerWidth<800&&toggleSidebar(),htmx.find("aside > input").value="",select(pathname()),scrollToActive()}),document.body.addEventListener("htmx:afterSwap",()=>{document.title=htmx.find("article > h1").textContent,mermaid.run({querySelector:"article div.mermaid"})}),document.body.addEventListener("htmx:historyRestore",()=>{select(pathname()),scrollToActive()});
